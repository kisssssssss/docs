---
title: 计算机组成原理
index: 1
typora-root-url: ./..\..\..\..\IMG\docs\计算机\计算机组成原理
---

# 计算机系统层次结构

## 计算机系统的组成

**硬件系统和软件系统** 共同构成了一个 **完整的计算机系统**。

- 硬件：有形的物理设备，是计算机系统中实际物理装置的总称。
- 软件：在硬件上运行的程序和相关的数据及文档。

## 冯·诺依曼计算机

冯·诺依曼机的 **基本工作方式** 是 **控制流驱动方式**。

特点：

1. 采用“**存储程序**”的工作方式。
2. 计算机硬件系统由 **运算器**、**存储器**、**控制器**、**输入设备** 和 **输出设备** 这 **5 大部件组成**。
3. **指令和数据以同等地位存储在存储器中**，形式上没有区别，但计算机应能区分它们。
4. **指令和数据均用二进制代码表示**。
5. **指令由操作码和地址码组成**，操作码指出操作的类型，地址码指出操作数的地址。
6. **以运算器为中心**，输入/输出设备与存储器之间的数据传送通过运算器完成。

“**存储程序**”的基本思想是：将事先编制好的程序和原始数据 **送入主存后才能执行**，一旦程序被启动执行，计算机会 **自动逐条执行指令**，直至程序执行结束。（**按地址访问并顺序执行指令**）

![](1.png)

![](2.png)

## 现代计算机

现代计算机通常把运算器和控制器集成在一个芯片上，合成中央处理器（CPU）。

特点是以 **存储器** 为中心，使 I/O 操作尽可能地绕过 CPU，直接在 I/O 设备和存储器之间完成，以提高系统的整体运行效率。

![](3.png)

## 硬件

![](4.png)

### 输入和输出设备

- 输入设备的：**将程序和数据以机器所能识别和接受的信息形式输入计算机**。
- 输出设备的：**将计算机处理的结果以人们所能接受的形式或其他系统所要求的信息形式输出**。

### 存储器

存储器分为主存储器（内存储器）和辅助存储器（外存储器）。

CPU 能够直接访问的存储器是主存储器。辅助存储器用于帮助主存储器记忆更多的信息，辅助存储器中的信息必须调入主存后，才能为 CPU 所访问。

主存储器的工作方式是按存储单元的地址进行存取，这种存取方式称为按地址存取方式。

> MAR：MemoryAddressRegister（存储地址寄存器）
>
> MDR：MemoryDataRegister（存储数据寄存器）

![](5.png)

::: tip

MAR 与 MDR 虽然是存储器的一部分，但在现代计算机中却是存在于 CPU 中的；

:::

### 运算器

运算器是计算机的执行部件，用于进行算术运算和逻辑运算。

运算器的核心是算术逻辑单元（Arithmetic and Logical Unit, ALU）。

![](6.png)

### 控制器

控制器是计算机的指挥中心，由其“指挥”各部件自动协调地进行工作。

控制器由程序由以下三部分组成，

- 控制单元（CU）：分析指令，指挥其他部件执行指令

- 程序计数器（PC）：存放当前 **欲执行指令的地址**，通过自动加 1 的功能，即可自动形成下一条指令的地址，它与主存的 MAR 之间有一条直接通路。

  ::: tip

  “1”指一条指令的长度。

  :::

- 指令寄存器（IR）：存放 **当前的指令**，其内容来自主存的 MDR。

  指令中的操作码 OP 送至 CU，用以分析指令并发出各种微操作命令序列；而地址码 Ad 送往 MAR，用以取操作数。

![](7.png)

## 软件

软件按其功能分类，可分为

- 系统软件：一组保证计算机系统高效、正确运行的基础软件，通常作为系统资源提供给用户使用。
- 应用软件：用户为解决某个应用领域中的各类问题而编制的程序。

三个级别的语言

1. 机器语言

   又称二进制代码语言。机器语言是计算机唯一可以直接识别和执行的语言。

2. 汇编语言

   汇编语言用英文单词或其缩写代替二进制的指令代码，更容易为人们记忆和理解。

   使用汇编语言编辑的程序必须经过汇编程序的系统软件的翻译，将其转换为机器语言程序后，才能在计算机的硬件系统上执行。

3. 高级语言

   高级语言是为方便程序设计人员写出解决问题的处理方案和解题过程的程序。

   通常高级语言需要经过编译程序编译成汇编语言程序，然后经过汇编操作得到机器语言程序，或直接由高级语言程序翻译成机器语言程序。

翻译程序有以下三类：

1. 汇编程序（汇编器）：将汇编语言程序翻译成机器语言程序。
2. 解释程序（解释器）：将源程序中的语句按执行顺序逐条翻译成机器指令并立即执行。
3. 编译程序（编译器）：将高级语言程序翻译成汇编语言或机器语言程序。

![](15.png)

**软、硬件逻辑功能的等价性**：对某一功能来说，既可以由硬件实现，又可以由软件实现，从用户的角度来看，它们在功能上是等价的。

## 层次结构

- 第 1 级是微程序机器层
- 第 2 级是传统机器语言层
- 第 3 级是操作系统层
- 第 4 级是汇编语言层
- 第 5 级是高级语言层

![](14.png)

## 工作过程

![](13.png)

::: tip

CPU 区分指令和数据的依据：指令周期的不同阶段

:::

![](8.png)

![](9.png)

![](10.png)

![](11.png)

![](12.png)

# 计算机性能指标

![](19.png)

## 字长

**字长** 是指计算机 **进行一次整数运算所能处理的二进制数据的位数**。字长 **一般等于通用寄存器的位数或 ALU 的宽度**，字长越长，数的表示范围越大，计算精度越高。

计算机字长通常选定为字节（8 位）的整数倍。

计算机位数就是指机器字长。字长会影响硬件造假。

::: tip

**字**：用来表示被处理信息的单位，用来度量数据类型的宽度，如 x86 机器中将一个字定义为 16 位。

**指令字长**：一个指令字中包含的二进制代码的位数。指令字长一般取存储字长的整数倍，若指令字长等于存储字长的 2 倍，则需要 2 个访存周期来取出一条指令；若指令字长等于存储字长，则取指令周期等于机器周期。

**存储字长**：一个存储单元存储的二进制代码的位数。

:::

## 主存容量

**主存容量** 是指主存储器所能存储信息的最大容量，通常以字节来衡量，也可用字数 $\times$ 字长（如 512K $\times$ 16 位）来表示存储容量。

![](16.png)

## CPU 性能指标

![](17.png)

在用于科学计算的计算机中，主要使用 MFLOPS 评估系统性能。

## 数据通路带宽

**数据通路**：各个子系统通过数据总线连接形成的数据传送路径。

**数据通路带宽**：数据总线一次所能并行传送信息的位数。

::: tip

这里所说的数据通路宽度是指外部数据总线的宽度，它与 CPU 内部的数据总线宽度（内部寄存器的大小）有可能不同。

:::

## 吞吐量和响应时间

**吞吐量**：系统在单位时间内处理请求的数量，主要取决于主存的存取周期。

**响应时间**：从用户向计算机发送一个请求，到系统对该请求做出响应并获得所需结果的等待时间。

![](18.png)

**吞吐量是评价计算机系统性能的综合参数**。

## 基准程序

**基准程序** 是专门用来进行性能评价的一组程序，能够很好地反映机器在运行实际负载时的性能，可以通过在不同机器上运行相同的基准程序来比较在不同机器上的运行时间，从而评测其性能。对于不同的应用场合，应该选择不同的基准程序。

# 专业术语

系列机：具有 **基本相同的体系结构**，**使用相同基本指令系统** 的多个不同型号的计算机组成的一个产品系列。

兼容：指 **软件或硬件的通用性**。若运行在某个型号的计算机系统中的硬/软件也能应用于另一个型号的计算机系统时，则称这两台计算机在硬件或软件上存在兼容性。

固件：**将程序固化在 ROM 中组成的部件** 称为固件。固件是一种具有软件特性的硬件，吸收了软件/硬件各自的优点，其执行速度快于软件，灵活性优于硬件，是软/硬件结合的产物。
